```thinking
用户现在只要一个功能总结的文档，后面会让我参考这个文档去另外一个项目开发类似的功能。这意味着我需要生成一个简洁但全面的功能总结文档，重点关注：

1. 核心功能特性
2. 组件结构
3. 数据模型
4. 交互流程
5. 关键技术点

而不需要太详细的实现细节和代码示例。主要是为了在其他项目中作为参考和指导。
```

# AI账户管理系统功能总结文档

## 系统概述
AI账户管理系统是一个企业级的多平台AI服务账户统一管理解决方案，支持Claude、Gemini、Claude Console三大平台的账户创建、编辑、监控和调度管理。

## 核心功能模块

### 1. 账户创建与编辑 (AccountForm)

#### 1.1 多平台支持
- **Claude平台**: OAuth认证 + 手动Token输入双模式
- **Gemini平台**: Google OAuth认证 + 项目ID配置
- **Claude Console平台**: API Key认证 + 自定义端点配置

#### 1.2 账户类型管理
- **共享账户**: 供所有API Key使用的公共账户
- **专属账户**: 绑定到特定API Key的独占账户  
- **分组调度**: 加入账户分组进行负载均衡调度

#### 1.3 分步骤创建流程
- **步骤1**: 基本信息配置（名称、描述、类型、平台选择）
- **步骤2**: OAuth认证流程（仅OAuth模式）
- **编辑模式**: 单步编辑，支持Token更新和配置修改

#### 1.4 代理配置支持
- 支持SOCKS5和HTTP代理
- 可选用户名密码认证
- 代理连接测试功能

#### 1.5 平台特定配置
- **Claude**: 调度优先级设置（1-100）
- **Gemini**: Google Cloud项目ID配置
- **Claude Console**: 支持的模型列表、User-Agent、限流时间配置

### 2. 账户列表与管理 (AccountsView)

#### 2.1 响应式列表展示
- **桌面端**: 表格视图，支持列排序
- **移动端**: 卡片视图，触摸友好

#### 2.2 多维度排序与筛选
- **排序选项**: 名称、今日Token、今日请求数、总Token、最后使用时间
- **筛选选项**: 全部账户、未分组账户、按分组筛选
- **实时搜索**: 支持按账户名称快速搜索

#### 2.3 状态监控系统
- **账户状态**: 正常、异常、已封锁、限流中、已暂停
- **使用统计**: 今日/总计请求数和Token消耗
- **会话窗口**: Claude账户的使用窗口进度监控
- **限流状态**: 显示限流剩余时间

#### 2.4 批量操作支持
- **调度控制**: 批量启用/禁用账户调度
- **Token刷新**: Claude OAuth账户Token自动刷新
- **状态切换**: 快速切换账户可调度状态

### 3. 账户分组管理

#### 3.1 分组功能
- 按平台创建账户分组（Claude组、Gemini组）
- 分组内账户负载均衡调度
- 分组成员管理（添加/移除账户）

#### 3.2 分组调度策略
- 优先级调度：根据账户优先级分配请求
- 轮询调度：平均分配请求到分组内账户
- 健康检查：自动跳过异常账户

### 4. OAuth集成流程

#### 4.1 Claude OAuth
- 标准OAuth 2.0流程
- Access Token和Refresh Token管理
- 自动Token刷新机制
- 权限范围控制

#### 4.2 Gemini OAuth  
- Google OAuth 2.0集成
- Google Cloud项目关联
- Workspace账户支持
- 项目ID验证机制

### 5. 数据模型结构

#### 5.1 账户基础模型
```
- id: 账户唯一标识
- name: 账户名称
- description: 账户描述
- platform: 平台类型 (claude/gemini/claude-console)
- accountType: 账户类型 (shared/dedicated/group)
- isActive: 是否激活
- schedulable: 是否可调度
- status: 账户状态
- priority: 调度优先级
- lastUsedAt: 最后使用时间
- createdAt/updatedAt: 创建/更新时间
```

#### 5.2 平台特定字段
```
Claude:
- claudeAiOauth: OAuth认证信息
- sessionWindow: 会话窗口状态
- scopes: 权限范围

Gemini:
- geminiOauth: Google OAuth信息
- projectId: Google Cloud项目ID

Claude Console:
- apiUrl: API端点地址
- apiKey: API密钥
- supportedModels: 支持的模型列表
- userAgent: 自定义User-Agent
- rateLimitDuration: 限流持续时间
```

#### 5.3 使用统计模型
```
usage:
  daily: 今日统计 (requests, allTokens)
  total: 总计统计 (requests, allTokens)  
  averages: 平均值 (rpm)
```

#### 5.4 代理配置模型
```
proxy:
  enabled: 是否启用
  type: 代理类型 (socks5/http)
  host: 代理主机
  port: 代理端口
  username: 用户名 (可选)
  password: 密码 (可选)
```

### 6. 关键交互流程

#### 6.1 账户创建流程
1. 选择平台类型
2. 选择添加方式（OAuth/手动）
3. 填写基本信息
4. 配置账户类型和分组
5. 设置代理配置（可选）
6. 执行OAuth认证或手动输入Token
7. 完成创建并返回列表

#### 6.2 账户编辑流程
1. 从列表选择账户进入编辑
2. 修改基本信息
3. 更新Token信息（可选）
4. 修改代理配置
5. 保存更改并刷新列表

#### 6.3 OAuth认证流程
1. 打开OAuth授权页面
2. 用户完成平台授权
3. 获取授权码
4. 交换Access Token和Refresh Token
5. 保存认证信息到账户

### 7. 状态管理与监控

#### 7.1 账户状态类型
- **active**: 正常可用
- **blocked**: 被平台封锁
- **error**: 配置错误或连接异常
- **rate_limited**: 触发限流

#### 7.2 调度状态控制
- **schedulable**: 可参与请求调度
- **non-schedulable**: 暂停调度但保留配置

#### 7.3 健康检查机制
- 定期检查账户可用性
- 自动更新账户状态
- 异常账户自动暂停调度

### 8. 安全与权限

#### 8.1 敏感信息保护
- Token信息加密存储
- 编辑模式下Token脱敏显示
- 代理密码加密传输

#### 8.2 操作权限控制
- 账户创建权限
- 账户编辑权限
- 账户删除权限（需验证无绑定API Key）

### 9. 用户体验设计

#### 9.1 响应式设计
- 桌面端优化的表格布局
- 移动端友好的卡片布局
- 自适应断点切换

#### 9.2 交互反馈
- 操作加载状态显示
- 成功/错误消息提示
- 确认弹窗防误操作

#### 9.3 数据可视化
- 优先级进度条
- 会话窗口使用进度
- 状态指示器和图标

### 10. 技术特性

#### 10.1 组件化架构
- 表单组件模块化
- OAuth流程组件化
- 代理配置组件复用

#### 10.2 状态管理
- 响应式数据绑定
- 统一状态管理
- 异步操作处理

#### 10.3 表单验证
- 实时表单验证
- 平台特定验证规则
- 错误信息友好显示

---

**总结**: 这是一个功能完整的企业级AI账户管理系统，核心特点是多平台统一管理、分组调度、OAuth集成、状态监控和响应式用户界面。系统设计注重用户体验、安全性和可扩展性，适合作为AI服务管理平台的核心功能模块。